<html>
<head>


<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/logo.ico"/>
<!--===============================================================================================-->
<!-- 
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css"> -->
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/util2.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="css/homepage.css">


   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>   
  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"> 
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 



<!-- <script src="vendor/jquery/jquery-3.2.1.min.js"></script> -->

<script src="js/utils.js"></script>
<script src="js/homepage.js"></script>
<script src="js/clinics.js"></script>
<script src="js/search.js"></script>
<script src="js/editProfile.js"></script>
<script src="js/appointments.js"></script>
<script src="js/record.js"></script>
<script src="js/rating.js"></script>
<!-- <script src="js/editProfile2.js"></script> -->


<script>

$( document ).ready(function() {
    setUpPatient();
});



$(document).on("click", ".open-ModalRating", function () {
    var whatIsRated = $(this).data('rate');
    var rating = $("#userRatingSelect").val();
    if (whatIsRated === "doctor") {
    	$(".modal-title-rating").text("Rating a doctor");
    	var doctorId = $(this).data('doctor-id');
    	var name = $(this).data('name');
    	$('#ratingInfo').text("Doctor: " + name);
    	$('#buttonRate').attr('onClick', "rateDoctor(" + doctorId + ")");
    }
    else {
    	$(".modal-title-rating").text("Rating a clinic");
    	var clinicId = $(this).data('clinic-id');
    	var name = $(this).data('name');
    	$('#ratingInfo').text("Clinic: " + name);
    	$('#buttonRate').attr('onClick', "rateClinic(" + clinicId + ")");
    }
});

$(document).on("click", ".open-ModalAppt", function () {
    var myBookId = $(this).data('id');
    console.log(myBookId);
    $(".modal-body #clinicId").html(myBookId);
    var apptIt = $(this).data('id');
    var appt = $(this).data('appointmentType');
    var appt = $(this).data('whatever');
	var doctor = $(this).data('doctor');
	var price = $(this).data('price');
	var time = $(this).data('time');
	var date = $(this).data('date');
	 var sth = $(this).data('sth');
	$(".modal-body #clinicId").html("<p>Appointment Type: " + appt + "</p>"
			+"<p>Date: "+ date + "</p><p>Time: " + time + "</p><p>Doctor: " + doctor + "</p><p>Price: " + price + "</p>");
    $('#buttonConfirmAppt').attr('onClick', "activateModal1(" + myBookId + ")");
    $('#buttonConfirmAppt').attr('onClick', "scheduleAppt(" + myBookId + ")");

});



$(document).on("click", ".open-ModalAppt2", function () {
   	var name = $(this).data('name');
   	var selectId = $(this).data("selectid");
   	var doctorId = $(this).data("doctor-id");
   	var selected = $("#" + selectId + " option:selected").text();
	var apptName = $("#apptInfo").data("appointment-name");
	var apptDateString = $("#apptInfo").data("appointment-date");
	var price = $("#clinicInfoDiv").data("price");
	$(".modal-body #clinicId").html("<h1>Appointment Details</h1><p>Appointment Type: " + apptName + "</p>"
			+"<p>Date: "+ apptDateString + "</p><p>Time: "+ selected + "</p><p>Doctor: " + name + "</p><p>Price: " + price + "</p>");  
    $('#buttonConfirmAppt1').attr('onClick', "scheduleApptReg(" + doctorId + ",'" + apptName + "','" + apptDateString + "','" + selected +"')");
   
});
</script>

<script>


$(document).ready(function() {
    $(document).on('click', '.nav-item a', function (e) {
        $(this).parent().addClass('active').siblings().removeClass('active');
    });
});

</script>


</head>

<body style="display: none;">

    <div class="main-pane" id="panel">

      <nav class="navbar navbar-expand-lg" id="navbarId" style="background: linear-gradient(0deg, rgb(242 248 253) 0%, rgb(192 206 239) 35%, rgb(149 150 218) 100%); height:100px;
        box-shadow: 0 0 5px 0px #d3d1f18c
      ">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <a href="#" class="pull-left"><img src="/images/icons/logo_t.png" width="90px;"></a>
        <a class="navbar-brand" href="#">Vojvodic Clinics</a>

       

          <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active" id="homeNavBarItem">
                <a class="nav-link navbar-item" href="/homepage.html">Upcoming appointments <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item" id="clinicsNavBarItem">
                <a class="nav-link navbar-item"  href="javascript:setUpClinicsPage()">Clinics</a>
              </li>
              <li class="nav-item">
                <a class="nav-link navbar-item" href="javascript:getRecord()" data-toggle="tooltip" title="Hooray!">My Record</a>
              </li>
              <li class="nav-item">
                <a class="nav-link navbar-item" href="javascript:showProfile()">My profile</a>
              </li>
              <li class="nav-item">
                <a class="nav-link navbar-item" href="javascript:logOut()">Log out</a>
                
              </li>
            
            </ul>
          </div>

      </nav>
      
      
      
    
      
      
      
        
      
      <div style="width: 1100px; margin: 0 auto; display: none " id="searchDoctorsss"> <!-- ne ovo -->
        <form class="form-inline">
          
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <input style="width: 130px;" type="text" class="form-control " id="inputPassword22" placeholder="First Name">
            <input style="width: 130px;" type="text" class="form-control " id="inputPassword2222" placeholder="Last Name">
          </div>
          <button type="submit" class="btn btn-primary  mb-2 btn-sm">Search By Name</button>

          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <input type="text" class="form-control" id="inputPassword2" placeholder="Search...">
          </div>
          <button type="submit" class="btn btn-primary  mb-2 btn-sm">Search</button>
          
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <select class="form-control" id="sel1">
                <option>Rating</option>
                <option>2+</option>
              <option>3+</option>
              <option>4+</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary  mb-2 btn-sm">Search</button>
        </form>
      </div>
      
      
      
       <div style="width: 700px; margin: 0 auto; display: none" id="searchClinics">
        <form class="form-inline" onsubmit="event.preventDefault();">  
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <input type="text" class="form-control" id="searchClinicsAllInput" placeholder="Search clinics...">
          </div>
          <button onclick="searchClinicsAll()" class="btn btn-primary  mb-2 btn-sm">Search</button>
         <div class="form-group mx-sm-3 mb-2 input-group-sm">
         <a href="javascript:clearRegularClinicSearch()" style="margin-right: 20px">Clear search</a>
          <a href="javascript:showAdvancedSearch()" id="toggleAdvancedClinicSearch">Advanced Search</a>
         </div>
        </form>
      </div>
      
      
      <div style="width: 1100px; margin: 0 auto; display: none " id="searchClinicsAdvanced">
        <form class="form-inline" onsubmit="event.preventDefault();" style="margin-left:135px;">
          
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <label for="clinicNameInput" class="">Name: </label>
            <input style="width: 130px;" type="text" class="form-control " id="clinicNameInput" placeholder="Clinic Name">
          </div>
<div class="form-group mx-sm-3 mb-2 input-group-sm">
			 <label for="clinicAddressInput" class="">Location: </label>
            <input style="width: 130px;" type="text" class="form-control " id="clinicAddressInput" placeholder="Clinic Location">
          </div>

         
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
             <label for="clinicRatingSelect" class="">Rating: </label>
            <select class="form-control" id="clinicRatingSelect">
                <option value = 1 selected>Choose rating</option>
                <option value = 2>2 and higher</option>
              <option value = 3>3 and higher</option>
              <option value = 4>4 and higher</option>
            </select>
          </div>
          <button  class="btn btn-primary  mb-2 btn-sm" onclick="searchClinicsFromForm()">Search</button>
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
          <a href="javascript:clearAdvancedSearch()">Clear search</a>
          </div>
        </form>
      </div>
      
      
      <div style="width: 700px; margin: 0 auto; display: none" id="searchDoctors">
        <form class="form-inline" onsubmit="event.preventDefault();">  
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <input type="text" class="form-control" id="searchDoctorsAllInput" placeholder="Search doctors...">
          </div>
          <button onclick="searchDoctorsAll()" class="btn btn-primary  mb-2 btn-sm">Search</button>
         <div class="form-group mx-sm-3 mb-2 input-group-sm">
          <a href="javascript:clearRegularDoctorSearch()" style="margin-right: 20px">Clear search</a>
         <a href="javascript:showAdvancedDoctorSearch()" id="toggleAdvancedDoctorSearch">Show advanced dr search</a>
         </div>
        </form>
      </div>
      

      <div style="width: 1100px; margin: 0 auto; display: none; " id="searchDoctorsAdvanced">
        <form class="form-inline" onsubmit="event.preventDefault();"  style="margin-left:120px;">
          
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
            <label for="firstNameInput" class="">First Name: </label>
            <input style="width: 130px;" type="text" class="form-control " id="firstNameInput" placeholder="First Name">
          </div>
<div class="form-group mx-sm-3 mb-2 input-group-sm">
			 <label for="lastNameInput" class="">Last Name: </label>
            <input style="width: 130px;" type="text" class="form-control " id="lastNameInput" placeholder="Last Name">
          </div>

         
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
             <label for="doctorRatingSelect" class="">Rating: </label>
            <select class="form-control" id="doctorRatingSelect">
                <option value = 1 selected>Choose rating</option>
                <option value = 2>2 and higher</option>
              <option value = 3>3 and higher</option>
              <option value = 4>4 and higher</option>
            </select>
          </div>
          <button  class="btn btn-primary  mb-2 btn-sm" onclick="searchDoctorsFromForm()">Search</button>
          <div class="form-group mx-sm-3 mb-2 input-group-sm">
          <a href="javascript:clearAdvancedDoctorSearch()">Clear search</a>
          </div>
        </form>
      </div>

      <div class="boxy" style="width: 800px; margin: 0 auto; display: none" id="searchDiv">
      <p style="color: gray">If you want to make an appointment, please enter appointment type and date and click Find!
      You will be displayed a list of clinics/doctors that match your search.</p>
      <form class="form-inline" id="searchApptsForm" onsubmit="event.preventDefault();">
     <!--  <div class="" style=" margin: 0 auto;"> -->
  <div class="form-group mb-2">
    <label class="" for="inputAppointments">Appointment Type: </label>
  </div>
  <select class="custom-select" id="selectAppointments">
    <option selected>Choose...</option>
    
  </select>
   <div class="form-group mx-sm-3 mb-2">
  <label for="dateAppointment" class="col-2 col-form-label">Date:</label>
    <input class="form-control" type="date"  id="dateAppointment">
  </div>
  <div class="form-group">
   <button class="btn btn-primary mb-2 shadow-none" id="searchButton" value="" onclick="javascript:searchAppointments()">Find!</button>
	</div>
<!-- </div> -->
</form>    
<div id="search-appts-err" class="error-search" style="margin-top: 5px; display: none"><p style="color: blue">Please choose an appointment type.</p></div>  
</div>



	<div class="title-div" style="margin: 0 auto; min-width: 500px; margin-top: 25px; margin-bottom: 0px; padding-bottom: 0px;">
      <p class="card-title" style="text-align: center; font-size: 25px;">Upcoming Appointments</p>
      <p style="text-align: center; text-decoration: none; margin-bottom: 0px;">Want to make another appointment? Click <a href="javascript:goToClinics()">here</a>.</p>
    </div>
         
   <br>
  <br>
    </div>
    
    <!-- Modal -->
<div class="modal fade" id="modalAppt" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Appointment Confirmation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div id="clinicId"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="buttonConfirmAppt" onclick="javascript:scheduleAppt()">Confirm</button>
      </div>
    </div>
  </div>
</div>

    <!-- Modal -->
<div class="modal fade" id="modalAppt2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Appointment Confirmation on Regulars</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div id="clinicId"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="buttonConfirmAppt1" onclick="javascript:scheduleAppt()">Confirm</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalFeedback" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content">
    	 <div class="modal-header">
    	 
          <h4 class="modal-title">Success</h4>
        </div>
      <div class="modal-body">
        <div id="message"></div>
      	<p> You have successfully scheduled an appointment. All your scheduled appointments can be seen in your list of
      	upcoming appointments.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="window.location.replace('/homepage.html')">Ok</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="modalMissedAppointment" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content">
    	 <div class="modal-header">
    	 
          <h4 class="modal-title">Sorry</h4>
        </div>
      <div class="modal-body">
        <div id="message"></div>
      	<p> Whoops! The appointment you chose is no longer available.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="sucessfullyChangedInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content">
    	 <div class="modal-header">
    	 
          <h4 class="modal-title">Success</h4>
        </div>
      <div class="modal-body">
        <div id="message"></div>
      	<p> You have successfully edited your personal information.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="setupProfile()">Ok</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="sucessfullyChangedPassword" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content">
    	 <div class="modal-header">
    	 
          <h4 class="modal-title">Success</h4>
        </div>
      <div class="modal-body">
        <div id="message"></div>
      	<p> You have successfully changed your password.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="setupProfile()">Ok</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="modalRating" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered " role="document">
  
    <div class="modal-content">
    	 <div class="modal-header">
          <h4 class="modal-title-rating"></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        </div>
      <div class="modal-body">
        <p id="ratingInfo"></p>
      	<div class="form-group mx-sm-3 mb-2 input-group-sm row">
             <label for="userRatingSelect" class="">Choose rating: </label>
            <select class="form-control" id="userRatingSelect" style="width: 70px; margin-left: 10px">
                <option value = 5 selected>5</option>
                <option value = 4>4</option>
              <option value = 3>3</option>
              <option value = 2>2</option>
              <option value = 1>1</option>
            </select>
          </div>
      </div>
      <div class="modal-footer">
       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button id="buttonRate" type="button" class="btn btn-primary" data-dismiss="modal" onclick="window.location.replace('/homepage.html')">Rate</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>